# Learning Path Analyzer

![CI](https://github.com/Danilpervik/learning-path-analyzer/actions/workflows/tests.yml/badge.svg)

Система анализа пути обучения студентов на основе логов LMS (Moodle, Canvas и др.). Проект помогает выявлять, какие типы активностей (форумы, тесты, сдача заданий и др.) наиболее сильно коррелируют с высокой успеваемостью, чтобы преподаватели и студенты могли оптимизировать учебный процесс.

## Цели
- Автоматизировать анализ поведения студентов в LMS
- Найти статистические связи между активностями и оценками
- Генерировать рекомендации по улучшению вовлечённости и результатов

## Функциональность
- Разбор CSV-логов (поддерживаются события: login, forum_post, quiz_attempt, assignment_submission и др.)
- Агрегация активности по `user_id` и `course_id`
- Корреляционный анализ типов событий и итоговых оценок
- Визуализация корреляций в виде графика `docs/correlation.png`
- Тесты для ключевых модулей и CI интеграция

## Пример входного формата (data/sample.csv)
timestamp,user_id,event_type,course_id,grade
```
2024-03-01 10:00:00,u123,login,c101,
2024-03-01 10:05:00,u123,forum_post,c101,
2024-03-02 14:00:00,u123,quiz_attempt,c101,85
2024-03-03 09:00:00,u123,assignment_submission,c101,92
2024-03-01 11:00:00,u456,login,c101,
2024-03-02 16:00:00,u456,quiz_attempt,c101,65
2024-03-03 08:30:00,u456,forum_post,c101,
2024-03-04 10:00:00,u456,assignment_submission,c101,70
```

Примечание: поле `grade` указывается только для оценочных событий (например, `quiz_attempt`, `assignment_submission`). Для остальных событий поле пустое — они агрегируются по `user_id` и `course_id`.

## Пример вывода
- В консоли выводится словарь с коэффициентами корреляции между типами активностей и итоговой оценкой по курсам/пользователям.
- График `docs/correlation.png` — визуализация корреляций (например, видно, что `forum_post` может иметь сильную положительную корреляцию, а `login` — практически нулевую).

## Установка и запуск
Требования: Python 3.8+, pip

1. Клонировать репозиторий:
   ```
   cd learning-path-analyzer
   ```
2. Создать и активировать виртуальное окружение:
   - Unix / macOS:
     ```
     python -m venv venv
     source venv/bin/activate
     ```
   - Windows (PowerShell):
     ```
     python -m venv venv
     .\venv\Scripts\Activate.ps1
     ```
   - Windows (cmd):
     ```
     python -m venv venv
     .\venv\Scripts\activate
     ```
3. Установить зависимости:
   ```
   pip install -r requirements.txt
   ```
4. Запустить генерацию отчёта:
   ```
   python scripts/generate_report.py
   ```
   После выполнения:
   - В консоли будет вывод словаря корреляций.
   - Сгенерированный график сохранится в `docs/correlation.png`.

## Параметры и конфигурация
- По умолчанию скрипт читает `data/sample.csv`. Можно изменить путь к файлу в `scripts/generate_report.py` или передавать аргументы (см. код).
- Для расширения набора распознаваемых типов событий — добавьте обработку в `src/parser.py` и скорректируйте логику агрегации в `src/analyzer.py`.

## Тестирование
Запуск тестов:
```
pytest tests/ -v
```

С покрытием:
```
pytest --cov=src tests/
```

CI (GitHub Actions) автоматически запускает тесты и линтеры при push/pull request. Есть workflow для еженедельной генерации отчёта и сохранения артефактов (графиков).

## Структура проекта
```
learning-path-analyzer/
├── src/                 # Основной код
│   ├── __init__.py
│   ├── parser.py        # Парсинг CSV
│   ├── analyzer.py      # Корреляционный анализ
│   ├── visualizer.py    # Визуализация
│   └── main.py          # Точка входа / CLI
├── tests/               # Тесты
├── data/
│   └── sample.csv       # Пример данных
├── scripts/
│   └── generate_report.py  # Скрипт для CI/CD и локального запуска
├── docs/
│   └── correlation.png  # Генерируемый график
├── .github/workflows/   # CI/CD
├── requirements.txt
├── .gitignore
└── README.md
```

## CI/CD возможности
- Автоматический запуск тестов и линтеров при push/pull request
- Еженедельная генерация отчёта (например, по расписанию: понедельник 00:00 UTC)
- Сохранение графика как артефакта и (опционально) автокоммит обновлённого графика в `docs/`

## Внесение вклада
1. Форкните репозиторий
2. Создайте ветку feature/имя
3. Напишите код и тесты
4. Откройте Pull Request

Перед созданием PR убедитесь, что:
- Все тесты проходят
- Код соответствует стилю (в проект можно добавить линтер/форматтер, например flake8/isort/black)

## Частые вопросы / Отладка
- Если график не генерируется — проверьте, что в данных есть оценочные события (`quiz_attempt`, `assignment_submission`) с заполненным полем `grade`.
- Для больших логов рекомендуется предварительно фильтровать события по курсу или времени, чтобы сократить память и ускорить подсчёт.

## Автор
Данил (GitHub: [Danilpervik](https://github.com/Danilpervik))

## Лицензия
Проект пока не содержит явно указанной лицензии. Рекомендуется добавить файл `LICENSE` (например, MIT) если вы хотите позволить свободное использование и вклад.
